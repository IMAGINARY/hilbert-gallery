!function(){function t(t,e){return Object.keys(e).forEach((function(n){"default"===n||"__esModule"===n||t.hasOwnProperty(n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),t}function e(t){return t&&t.__esModule?t.default:t}function n(t){Object.defineProperty(t,"__esModule",{value:!0,configurable:!0})}function r(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},a={};function c(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,u,"next",t)}function u(t){c(i,r,o,a,u,"throw",t)}a(void 0)}))}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){return v(t)}function d(t){return t&&t.constructor===Symbol?"symbol":typeof t}function h(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t,e){return g(t,e)}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){m(t,e,n[e])}))}return t}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function P(t,e,n){return(P=S()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&b(o,n.prototype),o}).apply(null,arguments)}function j(t,e,n){return P.apply(null,arguments)}function L(t){var e="function"==typeof Map?new Map:void 0;return L=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return j(t,arguments,p(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,t)},L(t)}n(a),r(a,"default",(function(){return Va})),r(a,"HilbertGalleryViewer",(function(){return Va}));var C,x,T,R,_={},A={};T=!(R=function(t){try{return!!t()}catch(t){return!0}})((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}));var z=Function.prototype,I=z.bind,N=z.call,F=T&&I.bind(N,N);A=T?function(t){return t&&F(t)}:function(t){return t&&function(){return N.apply(t,arguments)}};var D,M=A({}.toString),H=A("".slice);D=function(t){return H(M(t),8,-1)};var G=Object,V=A("".split);_=R((function(){return!G("z").propertyIsEnumerable(0)}))?function(t){return"String"==D(t)?V(t,""):G(t)}:G;var U,B=TypeError;U=function(t){if(null==t)throw B("Can't call method on "+t);return t},x=function(t){return _(U(t))};var W,q,K={},Y=function(t){return t&&t.Math==Math&&t};K=Y("object"==typeof globalThis&&globalThis)||Y("object"==typeof window&&window)||Y("object"==typeof self&&self)||Y("object"==typeof o&&o)||function(){return this}()||Function("return this")();var J;var X,$={},Q=Object.defineProperty;X=function(t,e){try{Q(K,t,{value:e,configurable:!0,writable:!0})}catch(n){K[t]=e}return e};var Z="__core-js_shared__",tt=K["__core-js_shared__"]||X(Z,{});$=tt,(J=function(t,e){return $[t]||($[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.23.2",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.2/LICENSE",source:"https://github.com/zloirock/core-js"});var et,nt={},rt=Object;et=function(t){return rt(U(t))};var ot=A({}.hasOwnProperty);nt=Object.hasOwn||function(t,e){return ot(et(t),e)};var it,at=0,ct=Math.random(),ut=A(1..toString);it=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ut(++at+ct,36)};var st,lt,ft,vt,pt={};vt=function(t){return"function"==typeof t};var dt=function(t){return vt(t)?t:void 0};ft=function(t,e){return arguments.length<2?dt(K[t]):K[t]&&K[t][e]},pt=ft("navigator","userAgent")||"";var ht,yt,mt=K.process,gt=K.Deno,bt=mt&&mt.versions||gt&&gt.version,wt=bt&&bt.v8;wt&&(yt=(ht=wt.split("."))[0]>0&&ht[0]<4?1:+(ht[0]+ht[1])),!yt&&pt&&(!(ht=pt.match(/Edge\/(\d+)/))||ht[1]>=74)&&(ht=pt.match(/Chrome\/(\d+)/))&&(yt=+ht[1]),lt=yt,st=!!Object.getOwnPropertySymbols&&!R((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&lt&&lt<41}));var kt;kt=st&&!Symbol.sham&&"symbol"==d(Symbol.iterator);var Et=J("wks"),Ot=K.Symbol,St=Ot&&Ot.for,Pt=kt?Ot:Ot&&Ot.withoutSetter||it;q=function(t){if(!nt(Et,t)||!st&&"string"!=typeof Et[t]){var e="Symbol."+t;st&&nt(Ot,t)?Et[t]=Ot[t]:Et[t]=kt&&St?St(e):Pt(e)}return Et[t]};var jt,Lt,Ct={};Lt=function(t){return"object"==typeof t?null!==t:vt(t)};var xt,Tt=String,Rt=TypeError;jt=function(t){if(Lt(t))return t;throw Rt(Tt(t)+" is not an object")};var _t,At,zt;At=(_t=!R((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})))&&R((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}));var It,Nt,Ft=K.document,Dt=Lt(Ft)&&Lt(Ft.createElement);Nt=function(t){return Dt?Ft.createElement(t):{}},It=!_t&&!R((function(){return 7!=Object.defineProperty(Nt("div"),"a",{get:function(){return 7}}).a}));var Mt,Ht,Gt={},Vt=Function.prototype.call;Gt=T?Vt.bind(Vt):function(){return Vt.apply(Vt,arguments)};var Ut={},Bt={};Bt=A({}.isPrototypeOf);var Wt=Object;Ut=kt?function(t){return"symbol"==(void 0===t?"undefined":d(t))}:function(t){var e=ft("Symbol");return vt(e)&&Bt(e.prototype,Wt(t))};var qt,Kt,Yt,Jt=String;Yt=function(t){try{return Jt(t)}catch(t){return"Object"}};var Xt=TypeError;Kt=function(t){if(vt(t))return t;throw Xt(Yt(t)+" is not a function")},qt=function(t,e){var n=t[e];return null==n?void 0:Kt(n)};var $t,Qt=TypeError;$t=function(t,e){var n,r;if("string"===e&&vt(n=t.toString)&&!Lt(r=Gt(n,t)))return r;if(vt(n=t.valueOf)&&!Lt(r=Gt(n,t)))return r;if("string"!==e&&vt(n=t.toString)&&!Lt(r=Gt(n,t)))return r;throw Qt("Can't convert object to primitive value")};var Zt=TypeError,te=q("toPrimitive");Ht=function(t,e){if(!Lt(t)||Ut(t))return t;var n,r=qt(t,te);if(r){if(void 0===e&&(e="default"),n=Gt(r,t,e),!Lt(n)||Ut(n))return n;throw Zt("Can't convert object to primitive value")}return void 0===e&&(e="number"),$t(t,e)},Mt=function(t){var e=Ht(t,"string");return Ut(e)?e:e+""};var ee=TypeError,ne=Object.defineProperty,re=Object.getOwnPropertyDescriptor,oe="enumerable",ie="configurable",ae="writable";zt=_t?At?function(t,e,n){if(jt(t),e=Mt(e),jt(n),"function"==typeof t&&"prototype"===e&&"value"in n&&ae in n&&!n.writable){var r=re(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:ie in n?n.configurable:r.configurable,enumerable:oe in n?n.enumerable:r.enumerable,writable:!1})}return ne(t,e,n)}:ne:function(t,e,n){if(jt(t),e=Mt(e),jt(n),It)try{return ne(t,e,n)}catch(t){}if("get"in n||"set"in n)throw ee("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var ce,ue,se,le={},fe={},ve=Math.ceil,pe=Math.floor;fe=Math.trunc||function(t){var e=+t;return(e>0?pe:ve)(e)},se=function(t){var e=+t;return e!=e||0===e?0:fe(e)};var de=Math.max,he=Math.min;ue=function(t,e){var n=se(t);return n<0?de(n+e,0):he(n,e)};var ye,me,ge=Math.min;me=function(t){return t>0?ge(se(t),9007199254740991):0},ye=function(t){return me(t.length)};var be=function(t){return function(e,n,r){var o,i=x(e),a=ye(i),c=ue(r,a);if(t&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((t||c in i)&&i[c]===n)return t||c||0;return!t&&-1}},we={includes:be(!0),indexOf:be(!1)}.indexOf,ke={};ke={};var Ee=A([].push);ce=function(t,e){var n,r=x(t),o=0,i=[];for(n in r)!nt(ke,n)&&nt(r,n)&&Ee(i,n);for(;e.length>o;)nt(r,n=e[o++])&&(~we(i,n)||Ee(i,n));return i};var Oe={};Oe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],le=Object.keys||function(t){return ce(t,Oe)},xt=_t&&!At?Object.defineProperties:function(t,e){jt(t);for(var n,r=x(e),o=le(e),i=o.length,a=0;i>a;)zt(t,n=o[a++],r[n]);return t};var Se={};Se=ft("document","documentElement");var Pe,je,Le=J("keys"),Ce=(Pe=function(t){return Le[t]||(Le[t]=it(t))})("IE_PROTO"),xe=function(){},Te=function(t){return"<script>"+t+"</"+"script>"},Re=function(t){t.write(Te("")),t.close();var e=t.parentWindow.Object;return t=null,e},_e=function(){try{je=new ActiveXObject("htmlfile")}catch(t){}var t,e;_e="undefined"!=typeof document?document.domain&&je?Re(je):((e=Nt("iframe")).style.display="none",Se.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Te("document.F=Object")),t.close(),t.F):Re(je);for(var n=Oe.length;n--;)delete _e.prototype[Oe[n]];return _e()};ke[Ce]=!0,Ct=Object.create||function(t,e){var n;return null!==t?(xe.prototype=jt(t),n=new xe,xe.prototype=null,n[Ce]=t):n=_e(),void 0===e?n:xt(n,e)};var Ae=zt,ze=q("unscopables"),Ie=Array.prototype;null==Ie[ze]&&Ae(Ie,ze,{configurable:!0,value:Ct(null)}),W=function(t){Ie[ze][t]=!0};var Ne={};Ne={};var Fe,De,Me={},He=A(Function.toString);vt($.inspectSource)||($.inspectSource=function(t){return He(t)}),Me=$.inspectSource;var Ge=K.WeakMap;De=vt(Ge)&&/native code/.test(Me(Ge));var Ve,Ue={};Ve=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Ue=_t?function(t,e,n){return zt(t,e,Ve(1,n))}:function(t,e,n){return t[e]=n,t};var Be,We,qe,Ke="Object already initialized",Ye=K.TypeError,Je=K.WeakMap;if(De||$.state){var Xe=$.state||($.state=new Je),$e=A(Xe.get),Qe=A(Xe.has),Ze=A(Xe.set);Be=function(t,e){if(Qe(Xe,t))throw new Ye(Ke);return e.facade=t,Ze(Xe,t,e),e},We=function(t){return $e(Xe,t)||{}},qe=function(t){return Qe(Xe,t)}}else{var tn=Pe("state");ke[tn]=!0,Be=function(t,e){if(nt(t,tn))throw new Ye(Ke);return e.facade=t,Ue(t,tn,e),e},We=function(t){return nt(t,tn)?t[tn]:{}},qe=function(t){return nt(t,tn)}}Fe={set:Be,get:We,has:qe,enforce:function(t){return qe(t)?We(t):Be(t,{})},getterFor:function(t){return function(e){var n;if(!Lt(e)||(n=We(e)).type!==t)throw Ye("Incompatible receiver, "+t+" required");return n}}};var en,nn,rn,on,an=zt,cn={}.propertyIsEnumerable,un=Object.getOwnPropertyDescriptor,sn=un&&!cn.call({1:2},1);on=sn?function(t){var e=un(this,t);return!!e&&e.enumerable}:cn;var ln,fn,vn,pn=Object.getOwnPropertyDescriptor,dn=rn=_t?pn:function(t,e){if(t=x(t),e=Mt(e),It)try{return pn(t,e)}catch(t){}if(nt(t,e))return Ve(!Gt(on,t,e),t[e])},hn=Function.prototype,yn=_t&&Object.getOwnPropertyDescriptor,mn=nt(hn,"name"),gn=(vn={EXISTS:mn,PROPER:mn&&"something"===function(){}.name,CONFIGURABLE:mn&&(!_t||_t&&yn(hn,"name").configurable)}).CONFIGURABLE,bn=Fe.enforce,wn=Fe.get,kn=Object.defineProperty,En=_t&&!R((function(){return 8!==kn((function(){}),"length",{value:8}).length})),On=String(String).split("String"),Sn=fn=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!nt(t,"name")||gn&&t.name!==e)&&kn(t,"name",{value:e,configurable:!0}),En&&n&&nt(n,"arity")&&t.length!==n.arity&&kn(t,"length",{value:n.arity});try{n&&nt(n,"constructor")&&n.constructor?_t&&kn(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=bn(t);return nt(r,"source")||(r.source=On.join("string"==typeof e?e:"")),t};Function.prototype.toString=Sn((function(){return vt(this)&&wn(this).source||Me(this)}),"toString"),ln=function(t,e,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:e;return vt(n)&&fn(n,i,r),r.global?o?t[e]=n:X(e,n):(r.unsafe?t[e]&&(o=!0):delete t[e],o?t[e]=n:zt(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})),t};var Pn,jn,Ln,Cn={},xn=Oe.concat("length","prototype");jn=Object.getOwnPropertyNames||function(t){return ce(t,xn)},Ln=Object.getOwnPropertySymbols;var Tn=A([].concat);Cn=ft("Reflect","ownKeys")||function(t){var e=jn(jt(t));return Ln?Tn(e,Ln(t)):e},Pn=function(t,e,n){for(var r=Cn(e),o=zt,i=rn,a=0;a<r.length;a++){var c=r[a];nt(t,c)||n&&nt(n,c)||o(t,c,i(e,c))}};var Rn={},_n=/#|\.prototype\./,An=function(t,e){var n=In[zn(t)];return n==Fn||n!=Nn&&(vt(e)?R(e):!!e)},zn=An.normalize=function(t){return String(t).replace(_n,".").toLowerCase()},In=An.data={},Nn=An.NATIVE="N",Fn=An.POLYFILL="P";Rn=An,nn=function(t,e){var n,r,o,i,a,c=t.target,u=t.global,s=t.stat;if(n=u?K:s?K[c]||X(c,{}):(K[c]||{}).prototype)for(r in e){if(i=e[r],o=t.dontCallGetSet?(a=dn(n,r))&&a.value:n[r],!Rn(u?r:c+(s?".":"#")+r,t.forced)&&void 0!==o){if((void 0===i?"undefined":d(i))==(void 0===o?"undefined":d(o)))continue;Pn(i,o)}(t.sham||o&&o.sham)&&Ue(i,"sham",!0),ln(n,r,i,t)}};var Dn,Mn,Hn,Gn={};Hn=!R((function(){var t=function(){};return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}));var Vn=Pe("IE_PROTO"),Un=Object,Bn=Un.prototype;Gn=Hn?Un.getPrototypeOf:function(t){var e=et(t);if(nt(e,Vn))return e[Vn];var n=e.constructor;return vt(n)&&e instanceof n?n.prototype:e instanceof Un?Bn:null};var Wn,qn,Kn,Yn=q("iterator"),Jn=!1;[].keys&&("next"in(Kn=[].keys())?(qn=Gn(Gn(Kn)))!==Object.prototype&&(Wn=qn):Jn=!0),(null==Wn||R((function(){var t={};return Wn[Yn].call(t)!==t})))&&(Wn={}),vt(Wn[Yn])||ln(Wn,Yn,(function(){return this}));var Xn,$n=(Mn={IteratorPrototype:Wn,BUGGY_SAFARI_ITERATORS:Jn}).IteratorPrototype,Qn=zt,Zn=q("toStringTag");Xn=function(t,e,n){t&&!n&&(t=t.prototype),t&&!nt(t,Zn)&&Qn(t,Zn,{configurable:!0,value:e})};var tr=function(){return this};Dn=function(t,e,n,r){var o=e+" Iterator";return t.prototype=Ct($n,{next:Ve(+!r,n)}),Xn(t,o,!1),Ne[o]=tr,t};var er,nr={},rr=String,or=TypeError;er=function(t){if("object"==typeof t||vt(t))return t;throw or("Can't set "+rr(t)+" as a prototype")},nr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=A(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return jt(n),er(r),e?t(n,r):n.__proto__=r,n}}():void 0);var ir=vn.PROPER,ar=vn.CONFIGURABLE,cr=Mn.IteratorPrototype,ur=Mn.BUGGY_SAFARI_ITERATORS,sr=q("iterator"),lr="keys",fr="values",vr="entries",pr=function(){return this};en=function(t,e,n,r,o,i,a){Dn(n,e,r);var c,u,s,l=function(t){if(t===o&&h)return h;if(!ur&&t in p)return p[t];switch(t){case lr:case fr:case vr:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",v=!1,p=t.prototype,d=p[sr]||p["@@iterator"]||o&&p[o],h=!ur&&d||l(o),y="Array"==e&&p.entries||d;if(y&&(c=Gn(y.call(new t)))!==Object.prototype&&c.next&&(Gn(c)!==cr&&(nr?nr(c,cr):vt(c[sr])||ln(c,sr,pr)),Xn(c,f,!0)),ir&&o==fr&&d&&d.name!==fr&&(ar?Ue(p,"name",fr):(v=!0,h=function(){return Gt(d,this)})),o)if(u={values:l(fr),keys:i?h:l(lr),entries:l(vr)},a)for(s in u)(ur||v||!(s in p))&&ln(p,s,u[s]);else nn({target:e,proto:!0,forced:ur||v},u);return p[sr]!==h&&ln(p,sr,h,{name:o}),Ne[e]=h,u};var dr="Array Iterator",hr=Fe.set,yr=Fe.getterFor(dr);C=en(Array,"Array",(function(t,e){hr(this,{type:dr,target:x(t),index:0,kind:e})}),(function(){var t=yr(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");var mr=Ne.Arguments=Ne.Array;if(W("keys"),W("values"),W("entries"),_t&&"values"!==mr.name)try{an(mr,"name",{value:"values"})}catch(t){}var gr,br={};br[q("toStringTag")]="z",gr="[object z]"===String(br);var wr,kr={},Er=q("toStringTag"),Or=Object,Sr="Arguments"==D(function(){return arguments}());kr=gr?D:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Or(t),Er))?n:Sr?D(e):"Object"==(r=D(e))&&vt(e.callee)?"Arguments":r},wr=gr?{}.toString:function(){return"[object "+kr(this)+"]"},gr||ln(Object.prototype,"toString",wr,{unsafe:!0});var Pr;Pr="process"==D(K.process);var jr,Lr=q("species");jr=function(t){var e=ft(t),n=zt;_t&&e&&!e[Lr]&&n(e,Lr,{configurable:!0,get:function(){return this}})};var Cr,xr=TypeError;Cr=function(t,e){if(Bt(e,t))return t;throw xr("Incorrect invocation")};var Tr,Rr,_r={},Ar=function(){},zr=[],Ir=ft("Reflect","construct"),Nr=/^\s*(?:class|function)\b/,Fr=A(Nr.exec),Dr=!Nr.exec(Ar),Mr=function(t){if(!vt(t))return!1;try{return Ir(Ar,zr,t),!0}catch(t){return!1}},Hr=function(t){if(!vt(t))return!1;switch(kr(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Dr||!!Fr(Nr,Me(t))}catch(t){return!0}};Hr.sham=!0,_r=!Ir||R((function(){var t;return Mr(Mr.call)||!Mr(Object)||!Mr((function(){t=!0}))||t}))?Hr:Mr;var Gr=TypeError;Rr=function(t){if(_r(t))return t;throw Gr(Yt(t)+" is not a constructor")};var Vr=q("species");Tr=function(t,e){var n,r=jt(t).constructor;return void 0===r||null==(n=jt(r)[Vr])?e:Rr(n)};var Ur,Br={},Wr=Function.prototype,qr=Wr.apply,Kr=Wr.call;Br="object"==typeof Reflect&&Reflect.apply||(T?Kr.bind(qr):function(){return Kr.apply(qr,arguments)});var Yr,Jr=A(A.bind);Yr=function(t,e){return Kt(t),void 0===e?t:T?Jr(t,e):function(){return t.apply(e,arguments)}};var Xr={};Xr=A([].slice);var $r,Qr=TypeError;$r=function(t,e){if(t<e)throw Qr("Not enough arguments");return t};var Zr;Zr=/(?:ipad|iphone|ipod).*applewebkit/i.test(pt);var to,eo,no,ro,oo=K.setImmediate,io=K.clearImmediate,ao=K.process,co=K.Dispatch,uo=K.Function,so=K.MessageChannel,lo=K.String,fo=0,vo={},po="onreadystatechange";try{to=K.location}catch(t){}var ho=function(t){if(nt(vo,t)){var e=vo[t];delete vo[t],e()}},yo=function(t){return function(){ho(t)}},mo=function(t){ho(t.data)},go=function(t){K.postMessage(lo(t),to.protocol+"//"+to.host)};oo&&io||(oo=function(t){$r(arguments.length,1);var e=vt(t)?t:uo(t),n=Xr(arguments,1);return vo[++fo]=function(){Br(e,void 0,n)},eo(fo),fo},io=function(t){delete vo[t]},Pr?eo=function(t){ao.nextTick(yo(t))}:co&&co.now?eo=function(t){co.now(yo(t))}:so&&!Zr?(ro=(no=new so).port2,no.port1.onmessage=mo,eo=Yr(ro.postMessage,ro)):K.addEventListener&&vt(K.postMessage)&&!K.importScripts&&to&&"file:"!==to.protocol&&!R(go)?(eo=go,K.addEventListener("message",mo,!1)):eo=po in Nt("script")?function(t){Se.appendChild(Nt("script")).onreadystatechange=function(){Se.removeChild(this),ho(t)}}:function(t){setTimeout(yo(t),0)});var bo,wo=(Ur={set:oo,clear:io}).set,ko={},Eo=rn,Oo=Ur.set;bo=/ipad|iphone|ipod/i.test(pt)&&void 0!==K.Pebble;var So;So=/web0s(?!.*chrome)/i.test(pt);var Po,jo,Lo,Co,xo,To,Ro,_o,Ao=K.MutationObserver||K.WebKitMutationObserver,zo=K.document,Io=K.process,No=K.Promise,Fo=Eo(K,"queueMicrotask"),Do=Fo&&Fo.value;Do||(Po=function(){var t,e;for(Pr&&(t=Io.domain)&&t.exit();jo;){e=jo.fn,jo=jo.next;try{e()}catch(t){throw jo?Co():Lo=void 0,t}}Lo=void 0,t&&t.enter()},Zr||Pr||So||!Ao||!zo?!bo&&No&&No.resolve?((Ro=No.resolve(void 0)).constructor=No,_o=Yr(Ro.then,Ro),Co=function(){_o(Po)}):Pr?Co=function(){Io.nextTick(Po)}:(Oo=Yr(Oo,K),Co=function(){Oo(Po)}):(xo=!0,To=zo.createTextNode(""),new Ao(Po).observe(To,{characterData:!0}),Co=function(){To.data=xo=!xo})),ko=Do||function(t){var e={fn:t,next:void 0};Lo&&(Lo.next=e),jo||(jo=e,Co()),Lo=e};var Mo;Mo=function(t,e){var n=K.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))};var Ho;Ho=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}};var Go={},Vo=function(){this.head=null,this.tail=null};Vo.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},Go=Vo;var Uo={};Uo=K.Promise;var Bo,Wo;Wo="object"==typeof window&&"object"!=typeof Deno;Uo&&Uo.prototype;var qo,Ko=q("species"),Yo=!1,Jo=vt(K.PromiseRejectionEvent),Xo=Rn("Promise",(function(){var t=Me(Uo),e=t!==String(Uo);if(!e&&66===lt)return!0;if(lt>=51&&/native code/.test(t))return!1;var n=new Uo((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[Ko]=r,!(Yo=n.then((function(){}))instanceof r)||!e&&Wo&&!Jo})),$o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=Kt(e),this.reject=Kt(n)};qo=function(t){return new $o(t)};var Qo,Zo,ti,ei="Promise",ni=(Bo={CONSTRUCTOR:Xo,REJECTION_EVENT:Jo,SUBCLASSING:Yo}).CONSTRUCTOR,ri=Bo.REJECTION_EVENT,oi=Bo.SUBCLASSING,ii=Fe.getterFor(ei),ai=Fe.set,ci=Uo&&Uo.prototype,ui=Uo,si=ci,li=K.TypeError,fi=K.document,vi=K.process,pi=qo,di=pi,hi=!!(fi&&fi.createEvent&&K.dispatchEvent),yi="unhandledrejection",mi=function(t){var e;return!(!Lt(t)||!vt(e=t.then))&&e},gi=function(t,e){var n,r,o,i=e.value,a=1==e.state,c=a?t.ok:t.fail,u=t.resolve,s=t.reject,l=t.domain;try{c?(a||(2===e.rejection&&Oi(e),e.rejection=1),!0===c?n=i:(l&&l.enter(),n=c(i),l&&(l.exit(),o=!0)),n===t.promise?s(li("Promise-chain cycle")):(r=mi(n))?Gt(r,n,u,s):u(n)):s(i)}catch(t){l&&!o&&l.exit(),s(t)}},bi=function(t,e){t.notified||(t.notified=!0,ko((function(){for(var n,r=t.reactions;n=r.get();)gi(n,t);t.notified=!1,e&&!t.rejection&&ki(t)})))},wi=function(t,e,n){var r,o;hi?((r=fi.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),K.dispatchEvent(r)):r={promise:e,reason:n},!ri&&(o=K["on"+t])?o(r):t===yi&&Mo("Unhandled promise rejection",n)},ki=function(t){Gt(wo,K,(function(){var e,n=t.facade,r=t.value;if(Ei(t)&&(e=Ho((function(){Pr?vi.emit("unhandledRejection",r,n):wi(yi,n,r)})),t.rejection=Pr||Ei(t)?2:1,e.error))throw e.value}))},Ei=function(t){return 1!==t.rejection&&!t.parent},Oi=function(t){Gt(wo,K,(function(){var e=t.facade;Pr?vi.emit("rejectionHandled",e):wi("rejectionhandled",e,t.value)}))},Si=function(t,e,n){return function(r){t(e,r,n)}},Pi=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,bi(t,!0))},ji=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw li("Promise can't be resolved itself");var r=mi(e);r?ko((function(){var n={done:!1};try{Gt(r,e,Si(ji,n,t),Si(Pi,n,t))}catch(e){Pi(n,e,t)}})):(t.value=e,t.state=1,bi(t,!1))}catch(e){Pi({done:!1},e,t)}}};if(ni&&(si=(ui=function(t){Cr(this,si),Kt(t),Gt(Qo,this);var e=ii(this);try{t(Si(ji,e),Si(Pi,e))}catch(t){Pi(e,t)}}).prototype,(Qo=function(t){ai(this,{type:ei,done:!1,notified:!1,parent:!1,reactions:new Go,rejection:!1,state:0,value:void 0})}).prototype=ln(si,"then",(function(t,e){var n=ii(this),r=pi(Tr(this,ui));return n.parent=!0,r.ok=!vt(t)||t,r.fail=vt(e)&&e,r.domain=Pr?vi.domain:void 0,0==n.state?n.reactions.add(r):ko((function(){gi(r,n)})),r.promise})),Zo=function(){var t=new Qo,e=ii(t);this.promise=t,this.resolve=Si(ji,e),this.reject=Si(Pi,e)},qo=pi=function(t){return t===ui||undefined===t?new Zo(t):di(t)},vt(Uo)&&ci!==Object.prototype)){ti=ci.then,oi||ln(ci,"then",(function(t,e){var n=this;return new ui((function(t,e){Gt(ti,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete ci.constructor}catch(t){}nr&&nr(ci,si)}nn({global:!0,constructor:!0,wrap:!0,forced:ni},{Promise:ui}),Xn(ui,ei,!1),jr(ei);var Li,Ci,xi=q("iterator"),Ti=Array.prototype;Ci=function(t){return void 0!==t&&(Ne.Array===t||Ti[xi]===t)};var Ri,_i,Ai=q("iterator");_i=function(t){if(null!=t)return qt(t,Ai)||qt(t,"@@iterator")||Ne[kr(t)]};var zi=TypeError;Ri=function(t,e){var n=arguments.length<2?_i(t):e;if(Kt(n))return jt(Gt(n,t));throw zi(Yt(t)+" is not iterable")};var Ii;Ii=function(t,e,n){var r,o;jt(t);try{if(!(r=qt(t,"return"))){if("throw"===e)throw n;return n}r=Gt(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;return jt(r),n};var Ni=TypeError,Fi=function(t,e){this.stopped=t,this.result=e},Di=Fi.prototype;Li=function(t,e,n){var r,o,i,a,c,u,s,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),v=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),d=Yr(e,l),h=function(t){return r&&Ii(r,"normal",t),new Fi(!0,t)},y=function(t){return f?(jt(t),p?d(t[0],t[1],h):d(t[0],t[1])):p?d(t,h):d(t)};if(v)r=t;else{if(!(o=_i(t)))throw Ni(Yt(t)+" is not iterable");if(Ci(o)){for(i=0,a=ye(t);a>i;i++)if((c=y(t[i]))&&Bt(Di,c))return c;return new Fi(!1)}r=Ri(t,o)}for(u=r.next;!(s=Gt(u,r)).done;){try{c=y(s.value)}catch(t){Ii(r,"throw",t)}if("object"==typeof c&&c&&Bt(Di,c))return c}return new Fi(!1)};var Mi,Hi=q("iterator"),Gi=!1;try{var Vi=0,Ui={next:function(){return{done:!!Vi++}},return:function(){Gi=!0}};Ui[Hi]=function(){return this},Array.from(Ui,(function(){throw 2}))}catch(t){}Mi=Bo.CONSTRUCTOR||!function(t,e){if(!e&&!Gi)return!1;var n=!1;try{var r={};r[Hi]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){Uo.all(t).then(void 0,(function(){}))})),nn({target:"Promise",stat:!0,forced:Mi},{all:function(t){var e=this,n=qo(e),r=n.resolve,o=n.reject,i=Ho((function(){var n=Kt(e.resolve),i=[],a=0,c=1;Li(t,(function(t){var u=a++,s=!1;c++,Gt(n,e,t).then((function(t){s||(s=!0,i[u]=t,--c||r(i))}),o)})),--c||r(i)}));return i.error&&o(i.value),n.promise}});var Bi=Bo.CONSTRUCTOR,Wi=Uo&&Uo.prototype;if(nn({target:"Promise",proto:!0,forced:Bi,real:!0},{catch:function(t){return this.then(void 0,t)}}),vt(Uo)){var qi=ft("Promise").prototype.catch;Wi.catch!==qi&&ln(Wi,"catch",qi,{unsafe:!0})}nn({target:"Promise",stat:!0,forced:Mi},{race:function(t){var e=this,n=qo(e),r=n.reject,o=Ho((function(){var o=Kt(e.resolve);Li(t,(function(t){Gt(o,e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),nn({target:"Promise",stat:!0,forced:Bo.CONSTRUCTOR},{reject:function(t){var e=qo(this);return Gt(e.reject,void 0,t),e.promise}});var Ki,Yi=Bo.CONSTRUCTOR;Ki=function(t,e){if(jt(t),Lt(e)&&e.constructor===t)return e;var n=qo(t);return(0,n.resolve)(e),n.promise};ft("Promise");nn({target:"Promise",stat:!0,forced:Yi},{resolve:function(t){return Ki(this,t)}});var Ji=Uo&&Uo.prototype,Xi=!!Uo&&R((function(){Ji.finally.call({then:function(){}},(function(){}))}));if(nn({target:"Promise",proto:!0,real:!0,forced:Xi},{finally:function(t){var e=Tr(this,ft("Promise")),n=vt(t);return this.then(n?function(n){return Ki(e,t()).then((function(){return n}))}:t,n?function(n){return Ki(e,t()).then((function(){throw n}))}:t)}}),vt(Uo)){var $i=ft("Promise").prototype.finally;Ji.finally!==$i&&ln(Ji,"finally",$i,{unsafe:!0})}var Qi,Zi=String;Qi=function(t){if("Symbol"===kr(t))throw TypeError("Cannot convert a Symbol value to a string");return Zi(t)};var ta=A("".charAt),ea=A("".charCodeAt),na=A("".slice),ra=function(t){return function(e,n){var r,o,i=Qi(U(e)),a=se(n),c=i.length;return a<0||a>=c?t?"":void 0:(r=ea(i,a))<55296||r>56319||a+1===c||(o=ea(i,a+1))<56320||o>57343?t?ta(i,a):r:t?na(i,a,a+2):o-56320+(r-55296<<10)+65536}},oa={codeAt:ra(!1),charAt:ra(!0)}.charAt,ia="String Iterator",aa=Fe.set,ca=Fe.getterFor(ia);en(String,"String",(function(t){aa(this,{type:ia,string:Qi(t),index:0})}),(function(){var t,e=ca(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=oa(n,r),e.index+=t.length,{value:t,done:!1})}));var ua;ua={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};var sa,la=Nt("span").classList,fa=la&&la.constructor&&la.constructor.prototype;sa=fa===Object.prototype?void 0:fa;var va=q("iterator"),pa=q("toStringTag"),da=C.values,ha=function(t,e){if(t){if(t[va]!==da)try{Ue(t,va,da)}catch(e){t[va]=da}if(t[pa]||Ue(t,pa,e),ua[e])for(var n in C)if(t[n]!==C[n])try{Ue(t,n,C[n])}catch(e){t[n]=C[n]}}};for(var ya in ua)ha(K[ya]&&K[ya].prototype,ya);ha(sa,"DOMTokenList");var ma={},ga=function(t){var e,n=function(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]},r=function(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),c=new p(r||[]);return a._invoke=l(t,n,c),a},o=function(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}},i=function(){},a=function(){},c=function(){},u=function(t){["next","throw","return"].forEach((function(e){n(t,e,(function(t){return this._invoke(e,t)}))}))},s=function(t,e){function n(r,i,a,c){var u=o(t[r],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&m.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var r;this._invoke=function(t,o){function i(){return new e((function(e,r){n(t,o,e,r)}))}return r=r?r.then(i,i):i()}},l=function(t,e,n){var r=E;return function(i,a){if(r===S)throw new Error("Generator is already running");if(r===P){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=R(c,n);if(u){if(u===j)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===E)throw r=P,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=S;var s=o(t,e,n);if("normal"===s.type){if(r=n.done?P:O,s.arg===j)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=P,n.method="throw",n.arg=s.arg)}}},f=function(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)},v=function(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e},p=function(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)},d=function(t){if(t){var n=t[b];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(m.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:h}},h=function(){return{value:e,done:!0}},y=Object.prototype,m=y.hasOwnProperty,g="function"==typeof Symbol?Symbol:{},b=g.iterator||"@@iterator",w=g.asyncIterator||"@@asyncIterator",k=g.toStringTag||"@@toStringTag";try{n({},"")}catch(t){n=function(t,e,n){return t[e]=n}}t.wrap=r;var E="suspendedStart",O="suspendedYield",S="executing",P="completed",j={},L={};n(L,b,(function(){return this}));var C=Object.getPrototypeOf,x=C&&C(C(d([])));x&&x!==y&&m.call(x,b)&&(L=x);var T=c.prototype=i.prototype=Object.create(L);function R(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,R(t,n),"throw"===n.method))return j;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var i=o(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,j;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,j):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,j)}return a.prototype=c,n(T,"constructor",c),n(c,"constructor",a),a.displayName=n(c,k,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,n(t,k,"GeneratorFunction")),t.prototype=Object.create(T),t},t.awrap=function(t){return{__await:t}},u(s.prototype),n(s.prototype,w,(function(){return this})),t.AsyncIterator=s,t.async=function(e,n,o,i,a){void 0===a&&(a=Promise);var c=new s(r(e,n,o,i),a);return t.isGeneratorFunction(n)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},u(T),n(T,k,"Generator"),n(T,b,(function(){return this})),n(T,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(v),!t)for(var n in this)"t"===n.charAt(0)&&m.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){var n=function(n,o){return a.type="throw",a.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o};if(this.done)throw t;for(var r=this,o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=m.call(i,"catchLoc"),u=m.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,j):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),j},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),v(n),j}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;v(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:d(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),j}},t}(ma);try{regeneratorRuntime=ga}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=ga:Function("r","regeneratorRuntime = r")(ga)}var ba=function(){"use strict";function t(e){s(this,t),this.state=e}return f(t,[{key:"buildExecutor",value:function(t){var e=this,n=this.unpack(t);return function(){return e.execute(n)}}}]),t}(),wa={};n(wa),r(wa,"default",(function(){return Ea})),r(wa,"Preloader",(function(){return Ea}));var ka,Ea=function(){"use strict";function t(){s(this,t),m(this,"refs",new Map),m(this,"typeRegistry",new Map),this.typeRegistry.set("image",this.preloadImage.bind(this)),this.typeRegistry.set("video",this.preloadVideo.bind(this))}return f(t,[{key:"preload",value:function(t,e){var n=t.split("/",1)[0],r=this.typeRegistry.get(n);return!!r&&(r(e),!0)}},{key:"preloadImage",value:function(t){var e=new URL(t).href,n=new Image;n.src=e,this.refs.set(e,n)}},{key:"preloadVideo",value:function(t){var e=new URL(t).href,n=document.createElement("video");n.preload="auto",n.src=e,this.refs.set(e,n)}},{key:"unref",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=this;0===e.length?this.refs.clear():e.forEach((function(t){return r.refs.delete(t)}))}}]),t}(),Oa=function(t){"use strict";w(r,t);var n=y(r);function r(t){var e;return s(this,r),(e=n.call(this,t)).preloader=new Ea,e}return f(r,[{key:"execute",value:function(t){var n=this;return u(e(ma).mark((function r(){return e(ma).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preloader.unref(),t.forEach((function(t){var e=t.mimetype,r=t.url;return n.preloader.preload(e,r)})),e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),r)})))()}},{key:"unpack",value:function(t){if(!Array.isArray(t))throw new TypeError("PreloadAction.unpack(arg): arg must be an array");return t.forEach((function(t,e){var n=t.mimetype,r=t.url;if("string"!=typeof n)throw new TypeError("PreloadAction.unpack(arg): item ".concat(e," of args must have a mimetype"));if("string"!=typeof r)throw new TypeError("PreloadAction.unpack(arg): item ".concat(e," of arg must have an url"))})),t}}]),r}(ba);!function(t){t[t.OFF=0]="OFF",t[t.ERROR=200]="ERROR",t[t.WARN=300]="WARN",t[t.INFO=400]="INFO",t[t.DEBUG=500]="DEBUG",t[t.TRACE=600]="TRACE"}(ka||(ka={}));var Sa=function(){"use strict";function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka.INFO;s(this,t),this.level=e}return f(t,[{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r;this.level>=ka.ERROR&&(r=console).error.apply(r,O(e))}},{key:"assert",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o;this.level>=ka.ERROR&&(o=console).assert.apply(o,[t].concat(O(n)))}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r;this.level>=ka.WARN&&(r=console).warn.apply(r,O(e))}},{key:"info",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r;this.level>=ka.INFO&&(r=console).info.apply(r,O(e))}},{key:"debug",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r;this.level>=ka.DEBUG&&(r=console).debug.apply(r,O(e))}},{key:"trace",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r;this.level>=ka.TRACE&&(r=console).trace.apply(r,O(e))}}]),t}(),Pa=function(t){"use strict";w(r,t);var n=y(r);function r(t){return s(this,r),n.call(this,t)}return f(r,[{key:"execute",value:function(){return u(e(ma).mark((function t(){return e(ma).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.location.reload(),t.abrupt("return",Promise.resolve());case 2:case"end":return t.stop()}}),t)})))()}},{key:"unpack",value:function(){}}]),r}(ba),ja=function(){"use strict";function t(){s(this,t)}return f(t,null,[{key:"create",value:function(e,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cover",i=e.split("/",1)[0];switch(i){case"image":r=t.createImage(n);break;case"video":r=t.createVideo(n);break;default:r=t.createObject(e,n)}return r.classList.add("content"),r.classList.add("fit-".concat(o)),r}},{key:"createObject",value:function(t,e){var n=document.createElement("object");return n.type=t,n.data=e,n}},{key:"createImage",value:function(t){var e=document.createElement("img");return e.src=t,e}},{key:"createVideo",value:function(t){var e=document.createElement("video");return e.preload="auto",e.src=t,e.autoplay=!1,e}},{key:"awaitLoad",value:function(t){return u(e(ma).mark((function n(){return e(ma).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){if("IMG"===t.tagName){var n=t;if(n.complete)e(t);else{var r=function(){n.removeEventListener("load",r),n.removeEventListener("error",r),requestAnimationFrame((function(){return e(t)}))};n.addEventListener("load",r),n.addEventListener("error",r)}}else setTimeout((function(){return e(t)}),1e3)})));case 1:case"end":return e.stop()}}),n)})))()}},{key:"play",value:function(t){"VIDEO"===t.tagName&&t.play().finally((function(){}))}}]),t}(),La=function(){"use strict";function t(){s(this,t);var e=function(t){},n=function(){};this._promise=new Promise((function(t,r){e=t,n=r})),this._resolve=e,this._reject=n}return f(t,[{key:"promise",value:function(){return this._promise}},{key:"resolve",value:function(t){return this._resolve(t)}},{key:"reject",value:function(){return this._reject()}}]),t}(),Ca=function(){"use strict";function t(e,n,r){s(this,t),m(this,"_isCancelled",!1),m(this,"_isDone",!1),this.container=e,this.from=n,this.to=r,this.targetVisiblePEC=new La,this.donePEC=new La,this.targetVisiblePEC.promise().catch((function(){})),this.donePEC.promise().catch((function(){}))}return f(t,[{key:"isCancelled",value:function(){return this._isCancelled}},{key:"targetVisible",value:function(){return this.targetVisiblePEC.promise()}},{key:"done",value:function(){return this.donePEC.promise()}},{key:"isDone",value:function(){return this._isDone}}]),t}(),xa=function(t){"use strict";w(n,t);var e=y(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div"),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.createElement("div"),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.createElement("div");return s(this,n),(t=e.call(this,r,o,i))._isCancelled=!1,t._isDone=!0,t}return f(n,[{key:"cancel",value:function(){}},{key:"targetVisible",value:function(){return Promise.resolve()}},{key:"done",value:function(){return Promise.resolve()}}],[{key:"unpack",value:function(){}},{key:"prepare",value:function(){return function(t,e,r){return new n(t,e,r)}}},{key:"getStyleSheetAsString",value:function(){return""}}]),n}(Ca);var Ta={duration:500,color:"#000"},Ra=function(t){"use strict";w(r,t);var n=y(r);function r(t,e,o,i){var a;s(this,r),a=n.call(this,t,e,o);var c=k({},Ta,null!=i?i:{}),u=c.duration,l=c.color,f=t.style;return f.setProperty("--transition-fade-duration","".concat(u,"s")),f.setProperty("--transition-fade-color","".concat(l)),e.classList.add("fade"),e.classList.add("fade-out"),a.fromEndCancelHandler=function(t){"transition-fade-out"===t.animationName&&a.targetVisiblePEC.resolve()},e.addEventListener("animationend",a.fromEndCancelHandler),e.addEventListener("animationcancel",a.fromEndCancelHandler),o.classList.add("fade"),o.classList.add("fade-in"),a.toEndHandler=function(t){"transition-fade-in"===t.animationName&&a.end()},a.toCancelHandler=function(t){"transition-fade-in"===t.animationName&&a.cancel()},o.addEventListener("animationend",a.toEndHandler),o.addEventListener("animationcancel",a.toCancelHandler),a}return f(r,[{key:"end",value:function(){this.isCancelled()||this.isDone()||(this.cleanup(),this._isDone=!0,this.targetVisiblePEC.resolve(),this.donePEC.resolve())}},{key:"cancel",value:function(){this.isCancelled()||this.isDone()||(this.cleanup(),this._isCancelled=!0,this.targetVisiblePEC.resolve(),this.donePEC.reject())}},{key:"cleanup",value:function(){this.from.removeEventListener("animationend",this.fromEndCancelHandler),this.from.removeEventListener("animationcancel",this.fromEndCancelHandler),this.to.removeEventListener("animationend",this.toEndHandler),this.to.removeEventListener("animationcancel",this.toCancelHandler);var t=this.container.style;t.removeProperty("--transition-fade-duration"),t.removeProperty("--transition-fade-color"),this.from.classList.remove("fade"),this.from.classList.remove("fade-out"),this.to.classList.remove("fade"),this.to.classList.remove("fade-in")}}],[{key:"unpack",value:function(t){return t}},{key:"prepare",value:function(t){var e=r.unpack(t);return function(t,n,o){return new r(t,n,o,e)}}},{key:"getStyleSheetAsString",value:function(){return e("@-webkit-keyframes transition-fade-out{0%{opacity:1}to{opacity:0}}@keyframes transition-fade-out{0%{opacity:1}to{opacity:0}}@-webkit-keyframes transition-fade-in{0%{opacity:0}to{opacity:1}}@keyframes transition-fade-in{0%{opacity:0}to{opacity:1}}.container{--transition-fade-color:black;--transition-fade-duration:1s;--transition-fade-duration-half:calc(var(--transition-fade-duration)/2);background-color:var(--transition-fade-color)}.container>.transition.fade{-webkit-animation-duration:var(--transition-fade-duration-half);-webkit-animation-duration:var(--transition-fade-duration-half);animation-duration:var(--transition-fade-duration-half);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}.container>.transition.fade.fade-out{-webkit-animation-name:transition-fade-out;animation-name:transition-fade-out}.container>.transition.fade.fade-in{-webkit-animation-name:transition-fade-in;animation-name:transition-fade-in;-webkit-animation-delay:var(--transition-fade-duration-half);-webkit-animation-delay:var(--transition-fade-duration-half);animation-delay:var(--transition-fade-duration-half)}")}}]),r}(Ca);var _a={duration:500},Aa=function(t){"use strict";w(r,t);var n=y(r);function r(t,e,o,i){var a;s(this,r),a=n.call(this,t,e,o);var c=k({},_a,null!=i?i:{}).duration;return t.style.setProperty("--transition-cross-fade-duration","".concat(c,"s")),e.classList.add("cross-fade"),e.classList.add("cross-fade-out"),o.classList.add("cross-fade"),o.classList.add("cross-fade-in"),a.toEndHandler=function(t){"transition-cross-fade-in"===t.animationName&&a.end()},a.toCancelHandler=function(t){"transition-cross-fade-in"===t.animationName&&a.cancel()},o.addEventListener("animationend",a.toEndHandler),o.addEventListener("animationcancel",a.toCancelHandler),a.targetVisiblePEC.resolve(),a}return f(r,[{key:"end",value:function(){this.isCancelled()||this.isDone()||(this.cleanup(),this._isDone=!0,this.donePEC.resolve())}},{key:"cancel",value:function(){this.isCancelled()||this.isDone()||(this.cleanup(),this._isCancelled=!0,this.donePEC.reject())}},{key:"cleanup",value:function(){this.to.removeEventListener("animationend",this.toEndHandler),this.to.removeEventListener("animationcancel",this.toCancelHandler),this.container.style.removeProperty("--transition-cross-fade-duration"),this.from.classList.remove("cross-fade"),this.from.classList.remove("cross-fade-out"),this.to.classList.remove("cross-fade"),this.to.classList.remove("cross-fade-in")}}],[{key:"unpack",value:function(t){return t}},{key:"prepare",value:function(t){var e=r.unpack(t);return function(t,n,o){return new r(t,n,o,e)}}},{key:"getStyleSheetAsString",value:function(){return e("@-webkit-keyframes transition-cross-fade-in{0%{opacity:0}to{opacity:1}}@keyframes transition-cross-fade-in{0%{opacity:0}to{opacity:1}}.container{--transition-cross-fade-duration:1s}.container>.transition.cross-fade.cross-fade-in{-webkit-animation-duration:var(--transition-cross-fade-duration);-webkit-animation-duration:var(--transition-cross-fade-duration);animation-duration:var(--transition-cross-fade-duration);-webkit-animation-name:transition-cross-fade-in;animation-name:transition-cross-fade-in;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}")}}]),r}(Ca);function za(t,e,n){var r=document.createElement("style");void 0!==n&&(r.id=n),r.textContent=e;var o=t.querySelector("style[type='text/css']:last-of-type, style:not([type]):last-of-type");null===o?t.prepend(r):o.after(r)}var Ia=function(){"use strict";function t(e){s(this,t),m(this,"transitionRegistry",new Map),this.root=e,this.registerKnownTransitions()}return f(t,[{key:"registerKnownTransitions",value:function(){this.register("none",xa),this.register("fade",Ra),this.register("cross-fade",Aa)}},{key:"register",value:function(t,e){if(this.transitionRegistry.has(t))throw new Error("Transition type already registered");za(this.root,e.getStyleSheetAsString(),"transition-".concat(t)),this.transitionRegistry.set(t,e)}},{key:"prepare",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.transitionRegistry.get(t);if(!n)throw new Error("Unknown transition type: ".concat(t));return n.prepare(e)}}]),t}(),Na=function(){"use strict";function t(e,n){s(this,t),m(this,"_isCancelled",!1),m(this,"_isDone",!1),this.wrapper=e,this.content=n,this.donePEC=new La,this.donePEC.promise().catch((function(){}))}return f(t,[{key:"isCancelled",value:function(){return this._isCancelled}},{key:"done",value:function(){return this.donePEC.promise()}},{key:"isDone",value:function(){return this._isDone}}]),t}(),Fa=function(t){"use strict";w(n,t);var e=y(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div"),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.createElement("div");return s(this,n),(t=e.call(this,r,o))._isCancelled=!1,t._isDone=!0,t}return f(n,[{key:"cancel",value:function(){}},{key:"targetVisible",value:function(){return Promise.resolve()}},{key:"done",value:function(){return Promise.resolve()}}],[{key:"unpack",value:function(){}},{key:"prepare",value:function(){return function(t,e){return new n(t,e)}}},{key:"getStyleSheetAsString",value:function(){return""}}]),n}(Na);function Da(t,e,n,r){void 0!==r&&t.style.setProperty(e,n(r))}var Ma=function(t){"use strict";w(r,t);var n=y(r);function r(t,e,o){var i;return s(this,r),(i=n.call(this,t,e)).endHandler=function(){},i.cancelHandler=function(){},i.asyncInit(o).finally((function(){})),i}return f(r,[{key:"asyncInit",value:function(t){var n=this;return u(e(ma).mark((function r(){var o,i,a;return e(ma).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.wrapper.classList.add("animation-pan-zoom"),void 0===t.from){e.next=11;break}return e.prev=2,o=t.from,n.setDefinedCssProperties(0,o),e.next=7,new Promise((function(t){requestAnimationFrame(t)}));case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:n.isCancelled()||(i=t.duration,a=t.to,n.setDefinedCssProperties(i,a),n.endHandler=function(t){"animation-pan-zoom-animation"===t.animationName&&n.end()},n.cancelHandler=function(t){"animation-pan-zoom-animation"===t.animationName&&n.cancel()},n.wrapper.addEventListener("animationend",n.endHandler),n.wrapper.addEventListener("animationcancel",n.cancelHandler));case 12:case"end":return e.stop()}}),r,null,[[2,9]])})))()}},{key:"setDefinedCssProperties",value:function(t,e){var n=e.x,r=e.y,o=e.scale,i=this.wrapper,a=Da;a(i,"--animation-pan-zoom-duration",(function(t){return"".concat(t,"s")}),t),a(i,"--animation-pan-zoom-target-x",(function(t){return"".concat(t)}),n),a(i,"--animation-pan-zoom-target-y",(function(t){return"".concat(t)}),r),a(i,"--animation-pan-zoom-target-scale",(function(t){return"".concat(t)}),o)}},{key:"end",value:function(){this.isCancelled()||this.isDone()||(this.cleanup(),this._isDone=!0,this.donePEC.resolve())}},{key:"cancel",value:function(){this.isCancelled()||this.isDone()||(this.cleanup(),this._isCancelled=!0,this.donePEC.reject())}},{key:"cleanup",value:function(){var t=this.wrapper;t.addEventListener("animationend",this.endHandler),t.addEventListener("animationcancel",this.cancelHandler)}}],[{key:"unpack",value:function(t){return t}},{key:"prepare",value:function(t){var e=r.unpack(t);return function(t,n){return new r(t,n,e)}}},{key:"getStyleSheetAsString",value:function(){return e("@-webkit-keyframes animation-pan-zoom-animation{0%{top:0;left:0}to{top:calc(50% - 50%*var(--animation-pan-zoom-target-scale));left:calc(50% - 50%*var(--animation-pan-zoom-target-scale))}}@keyframes animation-pan-zoom-animation{0%{top:0;left:0}to{top:calc(50% - 50%*var(--animation-pan-zoom-target-scale));left:calc(50% - 50%*var(--animation-pan-zoom-target-scale))}}@-webkit-keyframes animation-pan-zoom-content{0%{width:100%;height:100%;object-position:50% 50%;top:0;left:0}to{left:calc(100%*var(--animation-pan-zoom-target-scale)*(.5 - var(--animation-pan-zoom-target-x)));top:calc(100%*var(--animation-pan-zoom-target-scale)*(.5 - var(--animation-pan-zoom-target-y)));width:calc(100%*var(--animation-pan-zoom-target-scale));height:calc(100%*var(--animation-pan-zoom-target-scale));object-position:calc(100%*var(--animation-pan-zoom-target-x))calc(100%*var(--animation-pan-zoom-target-y))}}@keyframes animation-pan-zoom-content{0%{width:100%;height:100%;object-position:50% 50%;top:0;left:0}to{left:calc(100%*var(--animation-pan-zoom-target-scale)*(.5 - var(--animation-pan-zoom-target-x)));top:calc(100%*var(--animation-pan-zoom-target-scale)*(.5 - var(--animation-pan-zoom-target-y)));width:calc(100%*var(--animation-pan-zoom-target-scale));height:calc(100%*var(--animation-pan-zoom-target-scale));object-position:calc(100%*var(--animation-pan-zoom-target-x))calc(100%*var(--animation-pan-zoom-target-y))}}.container>.transition>.animation.animation-pan-zoom{--animation-pan-zoom-duration:0s;--animation-pan-zoom-target-x:.5;--animation-pan-zoom-target-y:.5;--animation-pan-zoom-target-scale:1;-webkit-animation-name:animation-pan-zoom-animation;animation-name:animation-pan-zoom-animation}.container>.transition>.animation.animation-pan-zoom,.container>.transition>.animation.animation-pan-zoom>*{-webkit-animation-duration:var(--animation-pan-zoom-duration);-webkit-animation-duration:var(--animation-pan-zoom-duration);animation-duration:var(--animation-pan-zoom-duration);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}.container>.transition>.animation.animation-pan-zoom>*{-webkit-animation-name:animation-pan-zoom-content;animation-name:animation-pan-zoom-content;position:relative}.sdfdsf-resizable>div{--zoom-factor:1;--pan-target-x:.5;--pan-target-y:.5;--transition-duration:10s;width:100%;height:100%;top:calc(50% - 50%*var(--zoom-factor));left:calc(50% - 50%*var(--zoom-factor));z-index:-1;transition-property:top,left,width,height;position:relative}.sdfdsf-resizable>div,.sdfdsf-resizable>div *{transition-duration:var(--transition-duration)}.sdfdsf-resizable>div img{left:calc(100%*var(--zoom-factor)*(.5 - var(--pan-target-x)));top:calc(100%*var(--zoom-factor)*(.5 - var(--pan-target-y)));width:calc(100%*var(--zoom-factor));height:calc(100%*var(--zoom-factor));object-fit:cover;object-position:calc(100%*var(--pan-target-x))calc(100%*var(--pan-target-y));transition-property:top,left,width,height,object-position;position:relative}")}}]),r}(Na),Ha=function(){"use strict";function t(e){s(this,t),m(this,"animationRegistry",new Map),this.root=e,this.registerKnownTransitions()}return f(t,[{key:"registerKnownTransitions",value:function(){this.register("none",Fa),this.register("pan-zoom",Ma)}},{key:"register",value:function(t,e){if(this.animationRegistry.has(t))throw new Error("Animation type already registered");za(this.root,e.getStyleSheetAsString(),"animation-".concat(t)),this.animationRegistry.set(t,e)}},{key:"prepare",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.animationRegistry.get(t);if(!n)throw new Error("Unknown animation type: ".concat(t));return n.prepare(e)}}]),t}(),Ga=function(t){"use strict";w(r,t);var n=y(r);function r(t){var e;s(this,r),(e=n.call(this,t)).transitionFactory=new Ia(t.shadowRoot),e.animationFactory=new Ha(t.shadowRoot),e.transition=new xa,e.animation=new Fa;var o=document.createElement("div");return e.current=e.appendCurrentContent(o,"black"),e}return f(r,[{key:"removePrevious",value:function(){for(var t=this.state.container;t.children.length>1;)t.children[0].remove()}},{key:"cleanup",value:function(){this.transition.cancel(),this.animation.cancel(),this.removePrevious()}},{key:"appendCurrentContent",value:function(t,e){var n=document.createElement("div");n.classList.add("animation"),n.appendChild(t);var r=document.createElement("div");return r.classList.add("transition"),r.style.setProperty("--transition-background-color",e),r.appendChild(n),this.state.container.appendChild(r),{transition:r,animation:n,content:t}}},{key:"execute",value:function(t){var n=this;return u(e(ma).mark((function r(){var o,i,a,c,u,s,l,f,v;return e(ma).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.mimetype,i=t.url,a=t.fit,c=t.color,u=n.prepareTransition(t),s=n.prepareAnimation(t),l=ja.create(o,i,a),e.prev=4,e.next=7,ja.awaitLoad(l);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),n.state.log.warn("Waiting for content to load failed. Proceeding anyway.");case 12:return n.cleanup(),f=n.current,n.current=n.appendCurrentContent(l,null!=c?c:"black"),n.transition=n.createTransition(u,f),e.prev=16,e.next=19,n.transition.targetVisible();case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(16),n.state.log.warn("Waiting for target to become visible failed. Proceeding anyway.");case 24:return ja.play(l),n.animation=n.createAnimation(s),e.prev=26,e.next=29,n.transition.done();case 29:e.next=35;break;case 31:e.prev=31,e.t2=e.catch(26),v="Waiting for transition to end failed. Proceeding anyway",e.t2?n.state.log.warn(v,e.t2):n.state.log.warn(v);case 35:n.removePrevious();case 36:case"end":return e.stop()}}),r,null,[[4,9],[16,21],[26,31]])})))()}},{key:"prepareTransition",value:function(t){var e=t.transition,n=null!=e?e:{type:"none",options:{}},r=n.type,o=n.options;return this.transitionFactory.prepare(r,o)}},{key:"prepareAnimation",value:function(t){var e=t.animation,n=null!=e?e:{type:"none",options:{}},r=n.type,o=n.options;return this.animationFactory.prepare(r,o)}},{key:"createTransition",value:function(t,e){return t(this.state.container,e.transition,this.current.transition)}},{key:"createAnimation",value:function(t){var e=this.current;return t(e.animation,e.content)}},{key:"unpack",value:function(t){if("object"!=typeof t)throw new TypeError("ShowAction.unpack(arg): arg must be an object");return t}}]),r}(ba),Va=function(t){"use strict";w(r,t);var n=y(r);function r(){var t;s(this,r);var o=(t=n.call(this)).attachShadow({mode:"open"});za(o,e(":host{width:100%;height:100%;position:relative}:host>.container{width:100%;height:100%;position:relative}:host>.container>.transition{--transition-background-color:black;background-color:var(--transition-background-color);width:100%;height:100%;position:absolute}:host>.container>.transition>.animation,:host>.container>.transition>.animation>.content{width:100%;height:100%;position:relative}:host>.container>.transition>.animation>.content.fit-contain{object-fit:contain}:host>.container>.transition>.animation>.content.fit-cover{object-fit:cover}"));var i=document.createElement("div");return i.classList.add("container"),o.appendChild(i),t.state={log:new Sa(ka.WARN),shadowRoot:o,container:i},t.actionRegistry=t.createActionRegistry(),t}return f(r,[{key:"createActionRegistry",value:function(){var t=new Map;return t.set("reload",new Pa(this.state)),t.set("preload",new Oa(this.state)),t.set("show",new Ga(this.state)),t}},{key:"execute",value:function(t,n){var r=this;return u(e(ma).mark((function o(){return e(ma).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.executeImpl(t,n);case 2:case"end":return e.stop()}}),o)})))()}},{key:"executeImpl",value:function(t,n){var r=this;return u(e(ma).mark((function o(){var i,a;return e(ma).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=r.actionRegistry.get(t))){e.next=7;break}return a=i.buildExecutor(n),e.next=5,a();case 5:e.next=8;break;case 7:throw new TypeError("HilbertGalleryViewer.execute(): unknown action");case 8:case"end":return e.stop()}}),o)})))()}}]),r}(L(HTMLElement));customElements.define("hilbert-gallery-viewer",Va),t(i,a),t(i,wa)}();
//# sourceMappingURL=index.js.map
